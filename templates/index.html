<!Doctype html>
<html>
    <head>
        <title>DMT 14C: Data acquisition software</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="{{url_for('static',filename='dist/css/output.css')}}" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type="text/javascript" src="http://pubnub.github.io/eon/lib/eon.js"></script>

        <style>

        html {
            height: 100%;
        }

        body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.5;
  color: #525f7f;
  text-align: left;
  background-color: #1e1e2f;
}

            :root {
        --primary-color: #191970;
        --secondary-color: #1E90FF;
        --background-color: #000000;
        --text-color: #FFFFFF;
    }

    .main-body {
        background-color: var(--background-color);
        color: var(--text-color);
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }

    .title-card {
        background-color: rgba(255, 255, 255, 0.1);
        padding: 10px;
        border-radius: 10px;
        margin: 10px 0;
    }

    .title-header {
        color: var(--text-color);
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin: 20px 0;
    }

    .sub-header {
        color: var(--text-color);
        font-size: 18px;
        font-weight: bold;
        margin-left: 20px;
        margin-top: 30px;
        margin-bottom: 20px;
    }

    .navigation-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-left: 20px;
        margin-right: 20px;
        color: var(--text-color);
    }

    .navigation-button {
        background-color: var(--secondary-color);
        border: 2px solid var(--text-color);
        border-radius: 5px;
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

    .navigation-button:hover {
        background-color: var(--text-color);
        color: var(--background-color);
    }    .title-header {
        color: var(--text-color);
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin: 20px 0;
    }

    .sub-header {
        color: var(--text-color);
        font-size: 18px;
        font-weight: bold;
        margin-left: 20px;
        margin-top: 30px;
        margin-bottom: 20px;
    }

    .navigation-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-left: 20px;
        margin-right: 20px;
        color: var(--text-color);
    }

    .navigation-button {
        background-color: var(--secondary-color);
        border: 2px solid var(--text-color);
        border-radius: 5px;
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

    .navigation-button:hover {
        background-color: var(--text-color);
        color: var(--background-color);
    }

    .motor-param-grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 20px;
        margin: 20px;
    }

    .parameter-card {
        grid-column: span 7;
        background-color: rgba(255, 255, 255, 0.1);  /* Set this to your preferred value */
        border-radius: 8px;
        padding: 10px;
        transition: box-shadow 0.3s ease-in-out;
        color: #f9f9f9; /* Black text */
        box-shadow: 0 0 10px rgb(255, 255, 255); /* Add a default box-shadow */

    }

    .actuator-card {
    border-radius: 8px;
    grid-column: span 3;
    background-color: rgba(255, 255, 255, 0.1);  /* Set this to your preferred value */
    padding: 10px;
    transition: box-shadow 0.3s ease-in-out;
    color: #f9f9f9; /* White text */
    box-shadow: 0 0 10px rgb(255, 255, 255); /* Add a default box-shadow */


}

    .parameter-card:hover {
        box-shadow: 0 0 20px rgb(255, 255, 255);
    }

    .parameter-title {
        margin-top: 5px;
        margin-left: 5px;
        text-align: center;
        font-size: 15px;
        text-transform: uppercase;
    }

    .actuator-header {
    margin-left: 5px;
    margin-top: 7px;
    margin-bottom: 5px;
    text-align: center;
    font-size: 15px;
    text-transform: uppercase;
}
    .parameter-details-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 2px; /* Adjust the gap value to make the parameter values closer together */
    margin-bottom: 10px;
}


    .param-description {
        font-size: 20px;
        margin-top: 30px;
        text-align: center;
        font-weight: bold;
        text-transform: uppercase;
    }
    .param-subdescription {
    font-size: 15px;
    margin-top: 25px;
    text-align: center;
}

    .param-value {
        font-size: 20px;
        margin-top: 5px;
        font-weight: bold;
        text-align: center;
        text-transform: uppercase;
    }


.actuator-card:hover {
    box-shadow: 0 0 20px rgb(255, 255, 255);  /* This matches the parameter-card hover effect */
}


.actuator-position-title {
    font-size: 15px;
    margin-top: 30px;
    text-align: center;
    text-transform: uppercase;
}

.actuator-position-value {
    font-size: 20px;
    margin-top: 5px;
    font-weight: bold;
    text-align: center;
}


    .flex-container {
    display: flex;
    flex-direction: column;
    }

    .input-and-parameter-grid {
    display: flex;
    justify-content: space-between;
    }

    .profile-input-section, .motor-param-grid {
    flex: 1;
    }

.motor-param-grid {
  flex: 1 1 auto;
}

.reset-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    grid-column: span 2;
    padding: 10px;
    box-shadow: 0 0 10px rgb(255, 255, 255);  /* This matches the parameter-card hover effect */


}

.reset-header {
    margin-left: 5px;
    margin-top: 30px;
    margin-bottom: 15px;
    color: #f9f9f9; /* White text */
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    text-transform: uppercase;
}

.reset-form {
    text-align: center;
}

.reset-button {
    background-color: #ffd700; /* Yellow background */
    border-radius: 8px;
    padding: 20px 30px; /* Padding around the button */
    font-size: 1.2rem; /* Text size */
    font-weight: bold; /* Bold text */
    color: #000000; /* White text */
    transition: background-color 0.3s ease-in-out;
}

.reset-button:hover {
    background-color: #eead0e; /* Darker yellow on hover */
}

.control-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 20px;
    grid-column: span 1;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    transition: box-shadow 0.3s ease-in-out;
}

.control-card:hover {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
}

.control-header {
    margin-top: 10px;
    margin-bottom: 15px;
    color: #f9f9f9; /* White text */
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    text-transform: uppercase;
}

.control-form {
    display: flex;
    justify-content: center;
    align-items: center;
    /* margin-top: 20px; */
}

.control-button-start,
.control-button-stop {
    border-radius: 8px;
    padding: 15px 30px;
    font-size: 1.2rem;
    font-weight: bold;
    color: #ffffff;
    transition: background-color 0.3s ease-in-out;
}

.control-button-start {
    background-color: #32CD32;
}

.control-button-start:hover {
    background-color: #228B22;
}

.control-button-stop {
    background-color: #FF0000;
}

.control-button-stop:hover {
    background-color: #B22222;
}

.key-parameter-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 10px;
    transition: box-shadow 0.3s ease-in-out;
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    color: #f9f9f9;
}

.key-parameter-card:hover {
    box-shadow: 0 0 20px rgb(255, 255, 255);
}

.section-title {
    margin-left: 10px;
    margin-top: 10px;
    margin-bottom: 15px;
    text-align: left;
    font-size: 20px;
    font-weight: bold;
    text-transform: uppercase;
}

.key-parameter-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    grid-template-rows: auto;
    gap: 10px;
    margin-bottom: 10px;
}


.key-parameter-label {
    font-size: 15px;
    margin-top: 15px;
    text-align: center;
    font-weight: bold;
    text-transform: uppercase;
}

.key-parameter-value {
    font-size: 15px;
    margin-top: 5px;
    font-weight: bold;
    text-align: center;
}
.calculated-measurement-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 10px;
    transition: box-shadow 0.3s ease-in-out;
    color: #f9f9f9;
}

.calculated-measurement-card:hover {
    box-shadow: 0 0 20px rgb(255, 255, 255);
}

.calculated-measurement-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto;
    gap: 10px;
    margin-bottom: 10px;
}

.calculated-measurement-grid:focus-within {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    outline: none;
}

.calculated-measurement-grid:focus-within .calculated-measurement-card {
    box-shadow: none;
}

.calculated-measurement-label {
    font-size: 20px;
    margin-top: 15px;
    text-align: center;
    font-weight: bold;
    text-transform: uppercase;
}

.calculated-measurement-value {
    font-size: 20px;
    margin-top: 5px;
    font-weight: bold;
    text-align: center;
}

.position-container {
    display: flex;
}

.position-item {
    flex: 1;
    margin-right: 10px; /* Adjust the spacing between the items as needed */
}

.graph-container {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    margin-left: -10px; /* Adjust the value as desired */
}

.graph-card {
    margin-bottom: 10px;
    background-color: #fff;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-right: 10px; /* Add a slight gap between the graph cards */
}

.graph-card:last-child {
    margin-right: 0; /* Remove the margin from the last graph card */
}

.graph-card:first-child {
    margin-left: 0; /* Remove the margin from the last graph card */
}

.graph-title {
    margin-bottom: 10px;
    font-size: 16px;
    font-weight: bold;
    color: #333;
}

canvas {
    width: 100%;
    height: 100%;
}





        </style>
    </head>
    
    <body class="main-body">
        <div class="title-card">
            <h1 class="title-header">DMT 14C: Aerodynamic probe and data acquisition software</h1>
            <p class="sub-header">Software navigation</p>  
            <div class="navigation-grid">
                <button class="navigation-button" onclick="window.location.href='/software_manual'">How To Use</button>
                <button class="navigation-button" onclick="window.location.href='/input_parameters'">Input Parameters</button>
                <button class="navigation-button" onclick="window.location.href='/saved_profiles'">Saved Profiles</button>
            </div>
        </div>
    
        <div class="flex-container">
            <!--Input parameter cards and Fan motor parameters side by side-->
            <div class="input-and-parameter-grid">
                <div class="profile-input-section">
                    <p class="text-xl font-bold ml-4">Current profile</p>
                    <select id="currentProfileDropdown" class="col-span-2 text-center bg-white border-2 rounded p-3 ml-4 mb-2" style="width: 30em">
                        <option></option>
                    </select><br>
    
                    <p class="text-xl font-bold ml-4 mt-3">Inputted values</p>
                    <p class="ml-4 mb-3">Select fan motor profile:</p>
                    <form>
                        <select id="motor_profile" name="motor_profile" class="text-center bg-white border-2 rounded p-3 ml-4 mb-3" style="width: 15em">
                            <option value="profile_constant_speed">Constant speed</option>
                            <option value="profile_ramp_up">Ramp up</option>
                            <option value="profile_ramp_down">Ramp down</option>
                            {% for profileName in savedProfiles %}
                                <option value="{{ profileName }}">{{ profileName }}</option>
                            {% endfor %}
                        </select><br>
                    </form>
                </div>

    
                <div class="motor-param-grid">
                    <!-- Fan motor parameters -->
                    <div class="parameter-card">
                        <p class="parameter-title">FAN MOTOR INPUTS</p>
                        <div class="parameter-details-grid">
                            <p class="param-subdescription text-center">Duty cycle</p>
                            <p class="param-subdescription text-center">Current</p>
                            <p class="param-subdescription text-center">Input speed</p>
                            <p class="param-subdescription text-center">Ramp down speed</p>
                            <p class="param-subdescription text-center">Ramp up speed</p>
                        </div>
                        <div class="grid grid-cols-5 gap-2 mb-2">
    
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.duty_cycle %}
                                {{ input_motor_data.duty_cycle }}%
                            {% else %}
                                0%
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.current %}
                                {{ input_motor_data.current }}A
                            {% else %}
                                0A
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.speed %}
                                {{ input_motor_data.speed }}rpm
                            {% else %}
                                0rpm
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.ramp_down_speed %}
                                {{ input_motor_data.ramp_down_speed }}rpm
                            {% else %}
                                0rpm
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.ramp_up_speed %}
                                {{ input_motor_data.ramp_up_speed }}rpm
                            {% else %}
                                0rpm
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>
            <!--Linear actuator-->
            <div class="actuator-card">
                <p class="actuator-header">ACTUATOR INPUTS</p>
                
                <div class="position-container">
                    <div class="position-item">
                        <p class="actuator-position-title">Linear</p>
                        <div>
                            <p class="actuator-position-value">
                                {% if input_motor_data.linear_actuator %}
                                    {{ input_motor_data.linear_actuator }}mm
                                {% else %}
                                    0mm
                                {% endif %}
                            </p>
                        </div>
                    </div>
                    
                    <div class="position-item">
                        <p class="actuator-position-title">Rotary</p>
                        <div>
                            <p class="actuator-position-value">
                                {% if input_motor_data and input_motor_data.rotary_motor %}
                                    {{ input_motor_data.rotary_motor }}°
                                {% else %}
                                    0°
                                {% endif %}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
    

            <!--Reset button-->
            <div class="reset-card">
                <p class="reset-header">Reset values</p>
                <form action="{{url_for('reset_session')}}" method="POST" class="reset-form">
                    <button class="reset-button">Reset</button>    
                </form>
            </div>

            </div>
            <div class="control-card">
                <p class="control-header">System control</p>
                <div class="grid grid-cols-2 gap-4 control-form">
                    <form action="{{url_for('start_all')}}" method="POST">
                        <button type="submit" name="button" value="start_button" class="control-button-start">Start</button>
                    </form>
                    <form action="{{url_for('stop')}}" method="POST">
                        <button type="submit" name="button" value="stop_button" class="control-button-stop">Stop</button>
                    </form>
                </div>
            </div>            
        </div>
    </div>

    <div>
        <div>
    <p class="section-title">Key parameters</p>

        <div class="grid grid-cols-6 gap-4 ml-4 mr-4 mb-4">
            <div class="bg-white rounded p-4">
                <p class="text-slate-500 ml-1 mb-3">Pressure (static) [Pa] - P<sub>0</sub></p>
                <p class="text-2xl text-center font-bold mt-10">
                    {% if last_values.P_0 %}
                        {{ last_values.P_0 }}
                    {% else %}
                        0
                    {% endif %}
                </p>
            </div>
            <div class="bg-white rounded p-4">
                <p class="text-slate-500 ml-1 mb-3">Pressure (differential) [Pa] - P<sub>1</sub></p>
                <p class="text-2xl text-center font-bold mt-5 mb-4">
                    {% if last_values.P_1 %}
                        {{ last_values.P_1 }}
                    {% else %}
                        0
                    {% endif %}            
                </p>
            </div>
            <div class="bg-white rounded p-4">
                <p class="text-slate-500 ml-1 mb-3">Pressure (differential) [Pa] - P<sub>2</sub></p>
                <p class="text-2xl text-center font-bold mt-5">
                    {% if last_values.P_2 %}
                        {{ last_values.P_2 }}
                    {% else %}
                        0
                    {% endif %} 
                </p>
            </div>
            <div class="bg-white rounded p-4">
                <p class="text-slate-500 ml-1 mb-3">Pressure (differential) [Pa] - P<sub>3</sub></p>
                <p class="text-2xl text-center font-bold mt-5">
                    {% if last_values.P_3 %}
                        {{ last_values.P_3 }}
                    {% else %}
                        0
                    {% endif %} 
                </p>
            </div>
            <div class="bg-white rounded p-4">
                <p class="text-slate-500 ml-1 mb-3">Strain gauge 1 [N]</p>
                <p class="text-2xl text-center font-bold mt-7">
                    {% if last_values.Strain_0 %}
                        {{ last_values.Strain_0 }}
                    {% else %}
                        0
                    {% endif %} 
                </p>
            </div>
            <div class="bg-white rounded p-4"> 
                <p class="text-slate-500 ml-1 mb-3">Strain gauge 2 [N]</p>
                <p class="text-2xl text-center font-bold mt-7">
                    {% if last_values.Strain_1 %}
                        {{ last_values.Strain_1 }}
                    {% else %}
                        0
                    {% endif %} 
                </p>
            </div>
        </div>

        </div>


        <div class="calculated-measurement-grid">
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Flow velocity [m/s]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Yaw angle [&#176;]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Mass flow rate [kg/s]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Density [kg/m^3]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
        </div>
    </div>

    </div>
        <p class="text-xl font-bold ml-6 mt-5 mb-3">Graphs</p>

        <div class="graph-container">
            <div class="graph-container">
                <div class="graph-card">
                    <h3 class="graph-title">Pressure (static & stagnation) [Pa]</h3>
                    <canvas id="pressureChart" width="600" height="300"></canvas>
                </div>  
                  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                  <script>
                    var ctx1 = document.getElementById('pressureChart').getContext('2d');
                    var labels = JSON.parse('{{ time_data | safe }}');
                    var json_p_zero_data = JSON.parse('{{ json_p_zero_data | safe }}');
                    var json_p_one_data = JSON.parse('{{ json_p_one_data | safe }}');
                    var json_p_two_data = JSON.parse('{{ json_p_two_data | safe }}');
                    var json_p_three_data = JSON.parse('{{ json_p_three_data | safe }}');

                    new Chart(ctx1, {
                    type: 'line',
                    data: {
                        labels,
                        datasets: [{
                            label: 'P_0',
                            data: json_p_zero_data,
                            borderWidth: 1,
                        }, {
                            label: 'P_1',
                            data: json_p_one_data,
                            borderWidth: 1,
                        }, {
                            label: 'P_2',
                            data: json_p_two_data,
                            borderWidth: 1,
                        }, {
                            label: 'P_3',
                            data: json_p_three_data,
                            borderWidth: 1,
                        }
                        ]
                    },
                    options: {
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Time [s]',
                                },
                            },
                            y: {
                                beginAtZero: false,
                                title: {
                                    display: true,
                                    text: 'Pressure [Pa]',
                                }
                            },
                        }
                    }
                    });

                  </script>

            <div class="graph-card">
                <h3 class="graph-title">Thrust [N]</h3>
                <canvas id="thrustChart" width="600" height="300"></canvas>
            </div>
                  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                  <script>
                    var ctx3 = document.getElementById('thrustChart').getContext('2d');
                    var labels = JSON.parse('{{ time_data | safe }}');
                    var json_strain_gauge_zero_data = JSON.parse('{{ json_strain_gauge_zero_data | safe }}');
                    var json_strain_gauge_one_data = JSON.parse('{{ json_strain_gauge_one_data | safe }}');
                    new Chart(ctx3, {
                    type: 'line',
                    data: {
                        labels,
                        datasets: [{
                            label: 'Strain Gauge 1',
                            data: json_strain_gauge_zero_data,
                            borderWidth: 1,
                        }, {
                            label: 'Strain Gauge 2',
                            data: json_strain_gauge_one_data,
                            borderWidth: 1,
                        }
                        ]
                    },
                    options: {
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Time [s]',
                                },
                            },
                            y: {
                                beginAtZero: false,
                                title: {
                                    display: true,
                                    text: 'Thrust [N]',
                                }
                            },
                        }
                    }
                    });
                  </script>

            <div class="graph-card">
                <h3 class="graph-title">Motor temperature [°C]</h3>
                <canvas id="motortempChart" width="600" height="300"></canvas>
            </div>
        </div>
                  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                  <script>
                    var ctx3 = document.getElementById('motortempChart').getContext('2d');
                    var labels = JSON.parse('{{ time_data | safe }}');
                    var json_motor_temp_data = JSON.parse('{{ json_motor_temp_data | safe }}');
                    new Chart(ctx3, {
                    type: 'line',
                    data: {
                        labels,
                        datasets: [{
                            label: 'Motor temperature',
                            data: json_motor_temp_data,
                            borderWidth: 1,
                        }
                        ]
                    },
                    options: {
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Time [s]',
                                },
                            },
                            y: {
                                beginAtZero: false,
                                title: {
                                    display: true,
                                    text: 'Temperature [\xB0C]',
                                }
                            },
                        }
                    }
                    });
                  </script>
            </div>
        </div>
    </div> 

    </div>

           
        <!-- Export CSV button -->
        <div class="bg-white rounded p-3">
            <p class="text-slate-500 ml-1 mb-3"></p>
            <form action="{{ url_for('export_csv') }}" method="POST" class="text-center" style="display: flex; align-items: center;">
                <input type="text" name="file_path" placeholder="File Path" style="flex: 1;">
                <button class="bg-green-400 hover:bg-green-500 rounded p-4 mt-4 text-lg text-center font-bold" style="width: 7em; {% if not export_csv_enabled %}background-color: green;{% endif %}" {% if not export_csv_enabled %}disabled{% endif %}>Export To CSV</button>
            </form>
        </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function updateData() {
            $.ajax({
                url: '/start_all',
                type: 'POST',
                success: function(response) {
                    // Update the content of the container with the received data
                    $('#updated-data-container').html(JSON.stringify(response));
                },
                error: function(error) {
                    console.log(error);
                }
            });
        }
    
        // Call the updateData function at regular intervals to fetch updated data
        setInterval(updateData, 5000); // Adjust the interval as needed
    

        function receiveProfileNames(data) {
        const dropdown = document.getElementById('currentProfileDropdown');
        data.profiles.forEach(profile => {
            const option = document.createElement('option');
            option.value = profile.name;
            option.textContent = profile.name;
            dropdown.appendChild(option);
        });
    }

    // Fetch the profiles data from the server
    fetch('/get_profiles')
        .then(response => response.json())
        .then(data => {
            receiveProfileNames(data);
        })
        .catch(error => {
            console.error('Error:', error);
        });

    </script>


    <h1>Sensor data</h1>
    <div class="sensor1"></div>
    <script>
        function requestData() 
        {
            var requests = $.get('/data');
            requests.done(function (data) {
                var result = data;
                var temp = result[1]
                $(".sensor1").text("");
                $(".sensor1").text("Data : "+ Math.round(data[1]));
                console.log(result)
                setTimeout(requestData, 1000);
            });
        }

        $(document).ready(function() {
            requestData();
        });
    </script>



</body>




</html>