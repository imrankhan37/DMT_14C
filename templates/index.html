<!Doctype html>
<html>
    <head>
        <title>DMT 14C: Data acquisition software</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="{{url_for('static',filename='dist/css/output.css')}}" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type="text/javascript" src="http://pubnub.github.io/eon/lib/eon.js"></script>
    
        <style>

            @import url("https://fonts.googleapis.com/css?family=Lato:300");
            *, *::before, *::after {
            box-sizing: border-box;
            }

        html {
            height: 100%;
            background: linear-gradient(45deg, #1c4872, #000000);

        }

        body {
            margin: 0;
            background: linear-gradient(45deg, #1c4872, #000000);
            font-family: "Lato";
            font-size: 0.875rem;
            font-weight: 400;
            line-height: 1.5;
            color: #30467e;
            text-align: left;
            margin-right: 10px;
            margin-left: 10px;
}

            :root {
        --primary-color: #191970;
        --secondary-color: #1E90FF;
        --background-color: #000000;
        --text-color: #FFFFFF;
    }

    .main-body {
        background-color: var(--background-color);
        color: var(--text-color);
        font-family: "Lato";
        margin: 0;
        padding: 0;
        margin-right: 15px;
        margin-left: 15px;
    }

    .title-card {
        background-color: rgba(255, 255, 255, 0.1);
        padding: 10px;
        border-radius: 10px;
        margin: 10px 0;
    }

    .title-header {
        color: var(--text-color);
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin: 20px 0;
    }

    .sub-header {
        color: var(--text-color);
        font-size: 18px;
        font-weight: bold;
        margin-left: 20px;
        margin-top: 30px;
        margin-bottom: 20px;
    }

    .navigation-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-left: 20px;
        margin-right: 20px;
        color: var(--text-color);
    }

    .navigation-button {
        background-color: var(--secondary-color);
        border: 2px solid var(--text-color);
        border-radius: 5px;
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

    .navigation-button:hover {
        background-color: var(--text-color);
        color: var(--background-color);
    }    .title-header {
        color: var(--text-color);
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin: 20px 0;
    }

    .sub-header {
        color: var(--text-color);
        font-size: 18px;
        font-weight: bold;
        margin-left: 20px;
        margin-top: 30px;
        margin-bottom: 20px;
    }

    .navigation-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-left: 20px;
        margin-right: 20px;
        color: var(--text-color);
    }

    .navigation-button {
        background-color: var(--secondary-color);
        border: 2px solid var(--text-color);
        border-radius: 5px;
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

    .navigation-button:hover {
        background-color: var(--text-color);
        color: var(--background-color);
    }

    .motor-param-grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 20px;
        margin: 20px;
    }

    .parameter-card {
        grid-column: span 6;
        background-color: rgba(255, 255, 255, 0.1);  /* Set this to your preferred value */
        border-radius: 8px;
        padding: 10px;
        transition: box-shadow 0.3s ease-in-out;
        color: #f9f9f9; /* Black text */
        box-shadow: 0 0 10px rgb(255, 255, 255); /* Add a default box-shadow */

    }

    .actuator-card {
    border-radius: 8px;
    grid-column: span 3;
    background-color: rgba(255, 255, 255, 0.1);  /* Set this to your preferred value */
    padding: 10px;
    transition: box-shadow 0.3s ease-in-out;
    color: #f9f9f9; /* White text */
    box-shadow: 0 0 10px rgb(255, 255, 255); /* Add a default box-shadow */


}

    .parameter-card:hover {
        box-shadow: 0 0 20px rgb(255, 255, 255);
    }

    .parameter-title {
        margin-top: 5px;
        margin-left: 5px;
        text-align: center;
        font-size: 15px;
        text-transform: uppercase;
    }

    .actuator-header {
    margin-left: 5px;
    margin-top: 7px;
    margin-bottom: 5px;
    text-align: center;
    font-size: 15px;
    text-transform: uppercase;
}
    .parameter-details-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 2px; /* Adjust the gap value to make the parameter values closer together */
    margin-bottom: 10px;
}


    .param-description {
        font-size: 20px;
        margin-top: 30px;
        text-align: center;
        font-weight: bold;
        text-transform: uppercase;
    }
    .param-subdescription {
    font-size: 15px;
    margin-top: 25px;
    text-align: center;
}

    .param-value {
        font-size: 20px;
        margin-top: 5px;
        font-weight: bold;
        text-align: center;
        text-transform: uppercase;
    }


.actuator-card:hover {
    box-shadow: 0 0 20px rgb(255, 255, 255);  /* This matches the parameter-card hover effect */
}


.actuator-position-title {
    font-size: 15px;
    margin-top: 30px;
    text-align: center;
    text-transform: uppercase;
}

.actuator-position-value {
    font-size: 20px;
    margin-top: 5px;
    font-weight: bold;
    text-align: center;
}


    .flex-container {
    display: flex;
    flex-direction: column;
    }

    .input-and-parameter-grid {
    display: flex;
    justify-content: space-between;
    }

    .profile-input-section, .motor-param-grid {
    flex: 1;
    }

.motor-param-grid {
  flex: 1 1 auto;
}

.reset-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    grid-column: span 2;
    padding: 10px;
    box-shadow: 0 0 10px rgb(255, 255, 255);  /* This matches the parameter-card hover effect */


}

.reset-header {
    margin-left: 5px;
    margin-top: 20px;
    margin-bottom: 15px;
    color: #f9f9f9; /* White text */
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    text-transform: uppercase;
}

.reset-form {
    text-align: center;
}

.reset-button {
    background-color: #ffd700; /* Yellow background */
    border-radius: 8px;
    padding: 20px 30px; /* Padding around the button */
    font-size: 1.2rem; /* Text size */
    font-weight: bold; /* Bold text */
    color: #000000; /* White text */
    transition: background-color 0.3s ease-in-out;
}

.reset-button:hover {
    background-color: #f3af04; /* Darker yellow on hover */
    box-shadow: 0 0 10px #f3af04;


}

.control-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 20px;
    grid-column: span 1;
    box-shadow: 0 0 10px rgb(255, 255, 255);  /* This matches the parameter-card hover effect */
    transition: box-shadow 0.3s ease-in-out;
}

.control-card:hover {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
}

.control-header {
    margin-top: 10px;
    margin-bottom: 15px;
    color: #f9f9f9; /* White text */
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    text-transform: uppercase;
}

.control-form {
    display: flex;
    justify-content: center;
    align-items: center;
    /* margin-top: 20px; */
}

.control-button-start,
.control-button-stop {
    border-radius: 8px;
    padding: 15px 30px;
    font-size: 1.2rem;
    font-weight: bold;
    color: #ffffff;
    transition: background-color 0.3s ease-in-out;
}

.control-button-start {
    background-color: #32CD32;
}

.control-button-start:hover {
    background-color: #228B22;
}

.control-button-stop {
    background-color: #FF0000;
}

.control-button-stop:hover {
    background-color: #B22222;
}

.key-parameter-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 10px;
    margin-left: 10px;
    margin-right: 10px;
    transition: box-shadow 0.3s ease-in-out;
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    color: #f9f9f9;
}

.key-parameter-card:hover {
    box-shadow: 0 0 20px rgb(255, 255, 255);
}

.section-title {
    margin-left: 10px;
    margin-top: 10px;
    margin-bottom: 15px;
    text-align: left;
    font-size: 20px;
    font-weight: bold;
    text-transform: uppercase;
}

.key-parameter-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    grid-template-rows: auto;
    gap: 10px;
    margin-bottom: 10px;
}


.key-parameter-label {
    font-size: 15px;
    margin-top: 10px;
    text-align: center;
    font-weight: bold;
    text-transform: uppercase;
}

.key-parameter-value {
    font-size: 15px;
    margin-top: 5px;
    font-weight: bold;
    text-align: center;
}
.calculated-measurement-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 10px;
    transition: box-shadow 0.3s ease-in-out;
    color: #f9f9f9;
    margin-right: 10px;
    margin-left: 10px;
}

.calculated-measurement-card:hover {
    box-shadow: 0 0 20px rgb(255, 255, 255);
}

.calculated-measurement-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto;
    gap: 10px;
    margin-bottom: 10px;
}

.calculated-measurement-grid:focus-within {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    outline: none;
}

.calculated-measurement-grid:focus-within .calculated-measurement-card {
    box-shadow: none;
}

.calculated-measurement-label {
    font-size: 20px;
    margin-top: 15px;
    text-align: center;
    font-weight: bold;
    text-transform: uppercase;
}

.calculated-measurement-value {
    font-size: 20px;
    margin-top: 5px;
    font-weight: bold;
    text-align: center;
}

.position-container {
    display: flex;
}

.position-item {
    flex: 1;
    margin-right: 10px; /* Adjust the spacing between the items as needed */
}

.graph-container {
  display: flex;
  justify-content: space-between;
  flex-wrap: nowrap;
  margin-left: 10px;
  margin-right: 20px;
}

.graph-card {
    flex: 0 0 calc(33.33% - 40px); /* Adjusted width calculation */
  margin-bottom: 10px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  margin-right: 10px;
  margin-left: 10px

}

.graph-title {
  margin-bottom: 10px;
  font-size: 16px;
  font-weight: bold;
  color: #ffffff;
}

.canvas-container {
  position: relative;
}

canvas {
  width: 100%;
  height: 100%;
}

.chart-text {
  fill: #ffffff;
  font-size: 12px;
}

.chart-grid line {
  stroke: rgba(255, 255, 255, 0.654);
}

.chart-points circle {
  fill: #ffffff;
  stroke: #ffffff;
  stroke-width: 2;
  animation: glowing 2s infinite;
}

@keyframes glowing {
  0% {
    fill-opacity: 1;
    r: 4;
  }
  50% {
    fill-opacity: 0.5;
    r: 8;
  }
  100% {
    fill-opacity: 1;
    r: 4;
  }
}


.export-csv-card {
    background-color: #fff;
    border-radius: 8px;
    padding: 20px;
    margin: 10px; /* Add margin around the card */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-right: 25px;
    margin-left: 15px;
    margin-bottom: 100px;
}

.export-csv-title {
    margin-bottom: 10px;
    font-size: 16px;
    font-weight: bold;
    color: #333;
}

.export-csv-form {
    display: flex;
    align-items: center;
}

.file-path-input {
    flex: 1;
    color: #333;
}

.export-csv-button {
    background-color: #60A5FA;
    color: #fff;
    border-radius: 8px;
    padding: 10px;
    width: 7em;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
}

.wrapper {
  display: flex;
  margin: 0 auto;
  background: rgba(21, 34, 46, 0.091);
  padding: 35px 40px 40px;
  border-radius: 20px;
  box-shadow: 0 0 1px 0 rgba(255, 255, 255, 0.32), 0 1px 9px -1px #15222e;
}

.wrapper-header {
  font-family: Arial, Helvetica, sans-serif;
  text-align: center;
  color: rgba(255, 255, 255, 0.74);
  margin: 30px 0 15px;
  font-weight: normal;
}

.heart {
  margin: 0 8px;
  display: inline-block;
  animation: simplePulse ease-in-out 1.1s infinite;
}

.gauge {
  font-family: Arial, Helvetica, sans-serif;
  background: #e7e7e7;
  box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.09), 0 0 35px 5px rgba(255, 255, 255, 0.29);
  width: 400px; /* Adjust the width as desired */
  height: 200px; /* Adjust the height as desired */
  border-radius: 200px 200px 0 0; /* Adjust the border radius accordingly */
  margin-top: 80px;
  position: relative;
  overflow: hidden;
  /* safari fix */
  -webkit-transform-style: flat;
  -webkit-transform: translateZ(0px);
}

.gauge.min-scaled {
  transform: scale(0.5);
}

.gauge-center {
  content: '';
  color: #fff;
  width: 60%;
  height: 60%;
  background: #15222E;
  border-radius: 200px 200px 0 0; /* Adjust the border radius accordingly */
  position: absolute;
  box-shadow: 0 -13px 15px -10px rgba(0, 0, 0, 0.28);
  right: 21%;
  bottom: 0;
  color: #fff;
}

.gauge-center::before {
  content: 'Motor Speed';
  font-size: 2em; /* Adjust the font size as desired */
  width: 100%;
  padding: 60px 0 0 0; /* Adjust the padding as desired */
  text-align: center;
  float: left;
  -webkit-font-smoothing: antialiased;
}

.gauge-center::after {
  content: '';
  width: 100%;
  float: left;
  opacity: 0.6; /* Fix the typo from "opacitY" to "opacity" */
  text-align: center;
}

.needle {
  width: 160px; /* Adjust the width as desired */
  height: 14px; /* Adjust the height as desired */
  background: #15222E;
  border-bottom-left-radius: 200px; /* Adjust the border radius accordingly */
  border-bottom-right-radius: 10px; /* Adjust the border radius accordingly */
  border-top-left-radius: 200px; /* Adjust the border radius accordingly */
  border-top-right-radius: 10px; /* Adjust the border radius accordingly */
  position: absolute;
  bottom: 8px; /* Adjust the position as desired */
  left: 40px; /* Adjust the position as desired */
  transform-origin: 100% 8px;
  animation: speed 5s infinite;
  box-shadow: 0 4px 4px 2px rgba(0, 0, 0, 0.38);
}

.slice-colors .st {
  position: absolute;
  bottom: 0;
  width: 140px; /* Adjust the width as desired */
  height: 0;
  border-bottom: 160px solid #000; /* Adjust the border width and color as desired */
  border-left: 24px solid transparent; /* Adjust the border width and color as desired */
  border-right: 24px solid transparent; /* Adjust the border width and color as desired */
}

.slice-colors .st.slice-item:nth-child(1) {
  border-bottom-color: #1eaa59;
  left: -2px;
  border-left-width: 24px; /* Adjust the border width as desired */
  border-right-width: 24px; /* Adjust the border width as desired */
}

.slice-colors .st.slice-item:nth-child(2) {
  border-bottom-color: #9baa1e;
  transform: rotate(135deg);
  transform-origin: right;
  top: 20px; /* Adjust the position as desired */
  left: -90px; /* Adjust the position as desired */
  border-left-width: 24px; /* Adjust the border width as desired */
  border-right-width: 24px; /* Adjust the border width as desired */
}

.slice-colors .st.slice-item:nth-child(3) {
  border-bottom-color: #f1c40f;
  transform: rotate(165deg);
  transform-origin: right;
  top: -25px; /* Adjust the position as desired */
  left: 15px; /* Adjust the position as desired */
  border-bottom-width: 200px; /* Adjust the border width as desired */
  border-left-width: 24px; /* Adjust the border width as desired */
  border-right-width: 24px; /* Adjust the border width as desired */
  width: 140px; /* Adjust the width as desired */
}

.slice-colors .st.slice-item:nth-child(4) {
  border-bottom-color: #e67e22;
  transform: rotate(219deg);
  transform-origin: right;
  top: -23px; /* Adjust the position as desired */
  left: 86px; /* Adjust the position as desired */
  border-left-width: 24px; /* Adjust the border width as desired */
  border-right-width: 24px; /* Adjust the border width as desired */
}

.slice-colors .st.slice-item:nth-child(5) {
  border-bottom-color: #E84C3D;
  transform: rotate(240deg);
  transform-origin: right;
  right: 104px; /* Adjust the position as desired */
  border-left-width: 24px; /* Adjust the border width as desired */
  border-right-width: 24px; /* Adjust the border width as desired */
}

.scale {
  position: absolute;
  width: 20px; /* Adjust the width as desired */
  height: 20px; /* Adjust the height as desired */
  background-color: #000;
  bottom: 0;
  left: calc(50% - 10px); /* Adjust the position as desired */
}

.scale-label {
  position: absolute;
  font-size: 25px; /* Adjust the font size as desired */
  color: #ffffff;
  text-align: center;
  white-space: nowrap;
}

/* .scale-label:nth-child(1) {
  top: 170px; /* Adjust the position as desired
  left: calc(50% - 10px); /* Adjust the position as desired
  transform: rotate(-90deg);
}

.scale-label:nth-child(2) {
  top: 20px; /* Adjust the position as desired 
  left: calc(50% - 70px); /* Adjust the position as desired 
  transform: rotate(-45deg);
} */

.scale-label:nth-child(3) {
  top: 170px; /* Adjust the position as desired */
  left: calc(50% - 190px); /* Adjust the position as desired */
  transform: rotate(0deg);
}

.scale-label:nth-child(4) {
  top: 32px; /* Adjust the position as desired */
  left: calc(50% - 135px); /* Adjust the position as desired */
  transform: rotate(-37.5deg);
}

.scale-label:nth-child(5) {
  top: 5px; /* Adjust the position as desired */
  left: calc(50% - 30px); /* Adjust the position as desired */
  transform: rotate(0deg);
}

.scale-label:nth-child(6) {
  top: 37px; /* Adjust the position as desired */
  left: calc(50% + 77px); /* Adjust the position as desired */
  transform: rotate(35deg);
}

.scale-label:nth-child(7) {
  top: 165px; /* Adjust the position as desired */
  left: calc(50% + 120px); /* Adjust the position as desired */
  transform: rotate(0deg);
}

.wrap-circles {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  padding: 3rem 1rem;
  background: #00000000;
  margin-right: 30px;
}

circle {
  position: relative;
  width: 30px;
  height: 30px;
  margin: 0.5rem;
  border-radius: 50%;
  background: #ffcdb200;
  overflow: hidden;
}

.circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0.5rem;
  border-radius: 50%;
  background: #fcfcfc11;
  overflow: hidden;
  background-image: conic-gradient(#ff0000 0 50%, transparent 0);

}

.circle .inner {
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 115px;
  height: 115px;
  background: #000000;
  border-radius: 50%;
  font-size: 1.85em;
  font-weight: 300;
  color: rgba(255, 255, 255, 0.75);
}


.duty-cycle-gauge .progress-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0%;
  height: 100%;
  background: linear-gradient(to right, #1eaa59, #e84c3d);
  transition: width 0.5s ease-in-out;
}

.duty-cycle-title {
  position: absolute;
  left: 25%;
  margin-top: 25px;
  transform: translate(-15%, 20%);
  font-size: 1.5em; /* Adjust the font size as desired */
  color: #fff; /* Adjust the color as desired */
}

        </style>
    </head>
    <body class="main-body">
        <div class="title-card">
            <h1 class="title-header">DMT 14C: DUCTED FAN MOTOR, AERODYNAMIC PROBE CONTROL AND DATA ACQUISITION INTERFACE</h1>
            <p class="sub-header">Software navigation</p>  
            <div class="navigation-grid">
                <button class="navigation-button" onclick="window.location.href='/software_manual'">How To Use</button>
                <button class="navigation-button" onclick="window.location.href='/input_parameters'">Input Parameters</button>
                <button class="navigation-button" onclick="window.location.href='/saved_profiles'">Saved Profiles</button>
            </div>
        </div>
    
        <div class="flex-container">
            <!--Input parameter cards and Fan motor parameters side by side-->
            <div class="input-and-parameter-grid">
                <div class="profile-input-section">
                    <p class="text-xl font-bold ml-4">Current profile</p>
                    <select id="currentProfileDropdown" class="col-span-2 text-center bg-white border-2 rounded p-3 ml-4 mb-2" style="width: 30em">
                        <option></option>
                    </select><br>
    
                    <p class="text-xl font-bold ml-4 mt-3">Inputted values</p>
                    <p class="ml-4 mb-3">Select fan motor profile:</p>
                    <form>
                        <select id="motor_profile" name="motor_profile" class="text-center bg-white border-2 rounded p-3 ml-4 mb-3" style="width: 15em">
                            <option value="profile_constant_speed">Constant speed</option>
                            <option value="profile_ramp_up">Ramp up</option>
                            <option value="profile_ramp_down">Ramp down</option>
                            {% for profileName in savedProfiles %}
                                <option value="{{ profileName }}">{{ profileName }}</option>
                            {% endfor %}
                        </select><br>
                    </form>
                </div>

    
                <div class="motor-param-grid">
                    <!-- Fan motor parameters -->
                    <div class="parameter-card">
                        <p class="parameter-title">FAN MOTOR INPUTS</p>
                        <div class="parameter-details-grid">
                            <p class="param-subdescription text-center">Duty cycle</p>
                            <p class="param-subdescription text-center">Current</p>
                            <p class="param-subdescription text-center">Input speed</p>
                            <p class="param-subdescription text-center">Ramp down speed</p>
                            <p class="param-subdescription text-center">Ramp up speed</p>
                        </div>
                        <div class="grid grid-cols-5 gap-2 mb-2">
    
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.duty_cycle %}
                                {{ input_motor_data.duty_cycle }}%
                            {% else %}
                                0%
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.current %}
                                {{ input_motor_data.current }}A
                            {% else %}
                                0A
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.speed %}
                                {{ input_motor_data.speed }}rpm
                            {% else %}
                                0rpm
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.ramp_down_speed %}
                                {{ input_motor_data.ramp_down_speed }}rpm
                            {% else %}
                                0rpm
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <p class="param-value">
                            {% if input_motor_data and input_motor_data.ramp_up_speed %}
                                {{ input_motor_data.ramp_up_speed }}rpm
                            {% else %}
                                0rpm
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>
            <!--Linear actuator-->
            <div class="actuator-card">
                <p class="actuator-header">ACTUATOR INPUTS</p>
                
                <div class="position-container">
                    <div class="position-item">
                        <p class="actuator-position-title">Linear</p>
                        <div>
                            <p class="actuator-position-value">
                                {% if input_motor_data.linear_actuator %}
                                    {{ input_motor_data.linear_actuator }}mm
                                {% else %}
                                    0mm
                                {% endif %}
                            </p>
                        </div>
                    </div>
                    
                    <div class="position-item">
                        <p class="actuator-position-title">Rotary</p>
                        <div>
                            <p class="actuator-position-value">
                                {% if input_motor_data and input_motor_data.rotary_motor %}
                                    {{ input_motor_data.rotary_motor }}°
                                {% else %}
                                    0°
                                {% endif %}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
    

            <!--Reset button-->
            <div class="reset-card">
                <p class="reset-header">Reset values</p>
                <form action="{{url_for('reset_session')}}" method="POST" class="reset-form">
                    <button class="reset-button">Reset</button>    
                </form>
            </div>

            <div class="control-card">
                <p class="control-header">System control</p>
                <div class="grid grid-cols-2 gap-4 control-form">
                    <form action="{{url_for('start_all')}}" method="POST">
                        <button type="submit" name="button" value="start_button" class="control-button-start">Start</button>
                    </form>
                    <form action="{{url_for('stop')}}" method="POST">
                        <button type="submit" name="button" value="stop_button" class="control-button-stop">Stop</button>
                    </form>
                </div>
            </div>  
        </div>          
        </div>
    </div>

    <div>
        <div>
            <button class="bg-white text-black" id="startButton">Temp start button</button>
        </div>
        <p class="section-title">Key parameters</p>

    <div class="key-parameter-grid">
        <div class="key-parameter-card">
            <p class="key-parameter-label">Pressure (Static) - P<sub>0</sub></p>
            <p class="key-parameter-value">
                <div class="P_0"></div>
                <script>
            
                    function request_p_zero_data() 
                    {
                        var requests = $.get('/generate_p_zero_data');
                        requests.done(function (generate_p_zero_data) {
                            var p_zero_result = generate_p_zero_data;
                            var temp = p_zero_result[1]
                            $(".P_0").text("");
                            $(".P_0").text(generate_p_zero_data[1] + " Pa");
                            console.log(p_zero_result)
                            setTimeout(request_p_zero_data, 1000);
                        });
                    }

                    function displayZero() {
                        $(".P_0").text(0 + " Pa");
                    }
            
                    $(document).ready(function() {
                        displayZero();
                        $('#startButton').click(function() {
                            request_p_zero_data();
                        });
                    });
                </script>
            </p>
        </div>
        <div class="key-parameter-card">
            <p class="key-parameter-label">Pressure (Differential) - P<sub>1</sub></p>
            <p class="key-parameter-value">
                {% if last_values.P_1 %}
                    {{ last_values.P_1 }}Pa
                {% else %}
                    0Pa
                {% endif %}            
            </p>
        </div>
        <div class="key-parameter-card">
            <p class="key-parameter-label">Pressure (Differential) - P<sub>2</sub></p>
            <p class="key-parameter-value">
                {% if last_values.P_2 %}
                    {{ last_values.P_2 }}Pa
                {% else %}
                    0Pa
                {% endif %} 
            </p>
        </div>
        <div class="key-parameter-card">
            <p class="key-parameter-label">Pressure (Differential) - P<sub>3</sub></p>
            <p class="key-parameter-value">
                {% if last_values.P_3 %}
                    {{ last_values.P_3 }}Pa
                {% else %}
                    0Pa
                {% endif %} 
            </p>
        </div>
        <div class="key-parameter-card">
            <p class="key-parameter-label">Strain Gauge 1</p>
            <p class="key-parameter-value">
                {% if last_values.Strain_0 %}
                    {{ last_values.Strain_0 }}N
                {% else %}
                    0N
                {% endif %} 
            </p>
        </div>
        <div class="key-parameter-card"> 
            <p class="key-parameter-label">Strain Gauge 2</p>
            <p class="key-parameter-value">
                {% if last_values.Strain_1 %}
                    {{ last_values.Strain_1 }}
                {% else %}
                    0N
                {% endif %} 
            </p>
        </div>
    </div>

        </div>

        
        <div class="wrapper">
          <div class="gauge">
            <div class="slice-colors">
              <div class="st slice-item"></div>
              <div class="st slice-item"></div>
              <div class="st slice-item"></div>
              <div class="st slice-item"></div>
              <div class="st slice-item"></div>
            </div>
            <div class="scale"></div>
            <div class="scale-label">0</div>
            <div class="scale-label">2,500</div>
            <div class="scale-label">5,000</div>
            <div class="scale-label">7,500</div>
            <div class="scale-label">10,000</div>
            <div class="needle"></div>
            <div class="gauge-center"></div>
          </div>
        
          <div class="duty-cycle-title">Duty Cycle</div>
          <div class="wrap-circles">
            <div class="circle per-0">
              <div class="inner">50%</div>
            </div>
            <div class="duty-cycle-gauge">
              <div class="progress-bar"></div>
            </div>
          </div>

          <!-- <div class = "graph-container"> -->
          <div class="graph-card">
            <h3 class="graph-title">Motor temperature [°C]</h3>
            <canvas id="motorTempChart" width="650" height="300"></canvas>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            var ctx3 = document.getElementById('motorTempChart').getContext('2d');
    
            // Generate fake data
            var labels = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
            var json_motor_temp_data = [30, 35, 40, 45, 42, 38, 36, 28, 25, 20];
    
            new Chart(ctx3, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Motor temperature',
                        data: json_motor_temp_data,
                        borderWidth: 3,
                    }]
                },
                options: {
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Time [s]',
                                color: '#ffffff',
                            },
                            ticks: {
                                color: '#ffffff',
                            },
                            grid: {
                                color: '#ffffff',
                            }
                        },
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Temperature [°C]',
                                color: '#ffffff',
                            },
                            ticks: {
                                color: '#ffffff',
                            },
                            grid: {
                                color: '#ffffff',
                            }
                        },
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff',
                            },
                        },
                    },
                },
            });
        </script>

    <div class="graph-card">
        <h3 class="graph-title">Motor Duty Cycle</h3>
        <canvas id="motorDutyCycleChart" width="650" height="300"></canvas>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var ctx4 = document.getElementById('motorDutyCycleChart').getContext('2d');

        // Generate fake data
        var labels = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
        var json_motor_duty_cycle_data = [0, 10, 10, 20, 20, 30, 30, 30, 40, 40, 40];

        new Chart(ctx4, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Motor Duty Cycle',
                    data: json_motor_duty_cycle_data,
                    borderWidth: 3,
                }]
            },
            options: {
                scales: {
                    x: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Time [s]',
                            color: '#ffffff',
                        },
                        ticks: {
                            color: '#ffffff',
                        },
                        grid: {
                            color: '#ffffff',
                        }
                    },
                    y: {
                        beginAtZero: false,
                        title: {
                            display: true,
                            text: 'Duty Cycle',
                            color: '#ffffff',
                        },
                        ticks: {
                            color: '#ffffff',
                        },
                        grid: {
                            color: '#ffffff',
                        }
                    },
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff',
                        },
                    },
                },
            },
        });
    </script>
</div>

          
          
          
        </div>
        

        <div class="calculated-measurement-grid">
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Flow velocity [m/s]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Yaw angle [&#176;]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Mass flow rate [kg/s]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
            <div class="calculated-measurement-card">
                <p class="calculated-measurement-label">Density [kg/m^3]</p>
                <p class="calculated-measurement-value">0</p>
            </div>
        </div>
    </div>

    </div>
        <p class="text-xl font-bold ml-6 mt-5 mb-3">Graphs</p>

        <div class="graph-container">
            <div class="canvas-container">
                <div class="graph-card">
                    <h3 class="graph-title">Pressure (static & stagnation) [Pa]</h3>
                    <canvas id="pressureChart" width="650" height="300"></canvas>
                </div>  
            </div>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                var ctx1 = document.getElementById('pressureChart').getContext('2d');
        
                // Generate fake data
                var labels = [1, 2, 3, 4, 5, 6, 7];
                var json_p_zero_data = [0, 100, 200, 150, 50, 250, 300];
                var json_p_one_data = [0, 50, 150, 100, 200, 250, 300];
                var json_p_two_data = [0, 200, 100, 150, 250, 50, 300];
                var json_p_three_data = [0, 150, 50, 200, 100, 250, 300];
        
                new Chart(ctx1, {
  type: 'line',
  data: {
    labels: labels,
    datasets: [{
      label: 'P_0',
      data: json_p_zero_data,
      borderWidth: 3,
    
    }, {
      label: 'P_1',
      data: json_p_one_data,
      borderWidth: 3,
    }, {
      label: 'P_2',
      data: json_p_two_data,
      borderWidth: 3,
    }, {
      label: 'P_3',
      data: json_p_three_data,
      borderWidth: 3,
    }]
  },
  options: {
    scales: {
      x: {
        beginAtZero: true,
        title: {
          display: true,
          text: 'Time [s]',
          color: '#ffffff',
        },
        ticks: {
          color: '#ffffff',
        },
        grid: {
            color: '#ffffff',
        }
    },
      y: {
        beginAtZero: false,
        title: {
          display: true,
          text: 'Pressure [Pa]',
          color: '#ffffff',
        },
        ticks: {
          color: '#ffffff',
        },

        grid : {
          color: '#ffffff',
        }
      },
    },
    plugins: {
      legend: {
        labels: {
          color: '#ffffff',
        },
      },
    },
  },
});

</script>        

                

        <div class="graph-card">
            <h3 class="graph-title">Thrust [N]</h3>
            <canvas id="thrustChart" width="650" height="300"></canvas>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            var ctx2 = document.getElementById('thrustChart').getContext('2d');
        
        // Generate fake data
        var labels = [1, 2, 3, 4, 5, 6, 7, 8 , 9];
        var json_strain_gauge_zero_data = [0, 300, 300, 0, 0, 300, 0, 300, 0];
        var json_strain_gauge_one_data = [300, 0, 300, 0, 300, 0, 300];

            new Chart(ctx2, {
  type: 'line',
  data: {
    labels: labels,
    datasets: [{
      label: 'Strain Gauge 1',
      data: json_strain_gauge_zero_data,
      borderWidth: 3,
    }, {
      label: 'Strain Gauge 2',
      data: json_strain_gauge_one_data,
      borderWidth: 3,
    }]
  },
  options: {
    scales: {
      x: {
        beginAtZero: true,
        title: {
          display: true,
          text: 'Time [s]',
          color: '#ffffff',
        },
        ticks: {
          color: '#ffffff',
        },
        grid: {
          color: '#ffffff',
        }
      },
      y: {
        beginAtZero: false,
        title: {
          display: true,
          text: 'Thrust [N]',
          color: '#ffffff',
        },
        ticks: {
          color: '#ffffff',
        },
        grid: {
          color: '#ffffff',
        }
      },
    },
    plugins: {
      legend: {
        labels: {
          color: '#ffffff',
        },
      },
    },
  },
});
        </script>
        
        <div class="graph-card">
            <h3 class="graph-title">Motor temperature [°C]</h3>
            <canvas id="motortempChart" width="650" height="300"></canvas>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            var ctx3 = document.getElementById('motortempChart').getContext('2d');
        
            // Generate fake data
            var labels = [1, 2, 3, 4, 5, 6, 7];
            var json_motor_temp_data = [30, 35, 40, 45, 42, 38, 36];
        
          new Chart(ctx3, {
  type: 'line',
  data: {
    labels: labels,
    datasets: [{
      label: 'Motor temperature',
      data: json_motor_temp_data,
      borderWidth: 3,
    }]
  },
  options: {
    scales: {
      x: {
        beginAtZero: true,
        title: {
          display: true,
          text: 'Time [s]',
          color: '#ffffff',
        },
        ticks: {
          color: '#ffffff',
        },
        grid: {
          color: '#ffffff',
        }
      },
      y: {
        beginAtZero: false,
        title: {
          display: true,
          text: 'Temperature [°C]',
          color: '#ffffff',
        },
        ticks: {
          color: '#ffffff',
        },
        grid: {
          color: '#ffffff',
        }
      },
    },
    plugins: {
      legend: {
        labels: {
          color: '#ffffff',
        },
      },
    },
  },
});

        </script>
        </div>        

           
<!-- Export CSV button -->
<div class="export-csv-card">
    <p class="export-csv-title">Export CSV</p>
    <form action="{{ url_for('export_csv') }}" method="POST" class="export-csv-form">
        <input type="text" name="file_path" placeholder="File Path" class="file-path-input">
        <button class="export-csv-button" {% if not export_csv_enabled %}disabled{% endif %}>
            Export To CSV
        </button>
    </form>
</div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function updateData() {
            $.ajax({
                url: '/start_all',
                type: 'POST',
                success: function(response) {
                    // Update the content of the container with the received data
                    $('#updated-data-container').html(JSON.stringify(response));
                },
                error: function(error) {
                    console.log(error);
                }
            });
        }
    
        // Call the updateData function at regular intervals to fetch updated data
        setInterval(updateData, 5000); // Adjust the interval as needed
    

        function receiveProfileNames(data) {
        const dropdown = document.getElementById('currentProfileDropdown');
        data.profiles.forEach(profile => {
            const option = document.createElement('option');
            option.value = profile.name;
            option.textContent = profile.name;
            dropdown.appendChild(option);
        });
    }

    // Fetch the profiles data from the server
    fetch('/get_profiles')
        .then(response => response.json())
        .then(data => {
            receiveProfileNames(data);
        })
        .catch(error => {
            console.error('Error:', error);
        });

    </script>
        
</body>




</html>